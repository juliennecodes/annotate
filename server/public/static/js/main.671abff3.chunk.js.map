{"version":3,"sources":["components/Homepage/Homepage.js","components/Loading.js","components/Images Page/NewImageForm.js","components/Images Page/NewImageModal.js","components/Images Page/ImagesPage.js","components/Image Page/Display Annotations/Annotations.js","components/Image Page/Annotate/ColourSwatches.js","components/Image Page/Annotate/Canvas.js","components/Image Page/Annotate/Annotate.js","components/Image Page/FeatureImage.js","components/Image Page/Display Image Info/DeleteImageButton.js","components/Image Page/Display Image Info/ImageDetails.js","components/Image Page/ImagePage.js","App.js","index.js"],"names":["Homepage","className","to","Loading","NewImageForm","closeForm","useState","newImageName","setNewImageName","newImageUrl","setNewImageUrl","onClick","xmlns","height","viewBox","width","fill","d","aria-label","onSubmit","e","preventDefault","name","url","image","fetch","method","headers","body","JSON","stringify","then","res","window","location","reload","submitForm","htmlFor","type","id","placeholder","onChange","target","value","NewImageModal","NewImageModalWrapper","isToggled","setToggled","ImagesPage","images","setImages","useEffect","json","serverResponse","map","index","ImageThumbnail","src","alt","Annotations","setState","annotations","setAnnotations","currentAnnotation","setCurrentAnnotation","length","AnnotationsList","annotation","AnnotationListItem","VisualAnnotation","imageInfo","document","querySelector","getBoundingClientRect","style","visual","WrittenAnnotation","written","image_id","ColourSwatches","setCurrentColour","swatch","element","classList","remove","add","Canvas","drawMode","setDrawMode","isMouseDown","setIsMouseDown","x","y","coordinates","setCoordinates","canvasWidth","canvasHeight","currentColour","getCoordinates","viewportXCoordinate","clientX","viewportYCoordinate","clientY","canvasInfo","mouseDownHandler","ctx","getContext","fillStyle","fillRect","drawDot","mouseMoveHandler","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","closePath","draw","Brush","ClearCanvas","onMouseUp","onMouseDown","onMouseMove","canvas","clearRect","clearCanvas","Annotate","addIndicatorForCurrentStateSetter","writtenAnnotation","setWrittenAnnotation","visualAnnotation","setVisualAnnotation","SetImageAnnotationButton","currentCanvasState","toDataURL","FeatureImage","DeleteImageButton","history","useHistory","push","ImageDetails","href","ImagePage","useParams","setImage","state","moveImageToLeft","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.671abff3.chunk.js","sourcesContent":["import {Link} from \"react-router-dom\";\nimport \"./Homepage.css\";\n\nexport function Homepage() {\n  return (\n    <div className=\"homepage-div\">\n      <h1 className=\"homepage-heading\">annotate</h1>\n      <Link className=\"homepage-get-started\" to=\"/images\">get started</Link>\n    </div>\n  );\n}\n","export function Loading() {\n  return (\n    <div>\n      <p>Loading</p>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport \"./NewImageForm.css\";\n\nexport function NewImageForm({ closeForm }) {\n  const [newImageName, setNewImageName] = useState(null);\n  const [newImageUrl, setNewImageUrl] = useState(null);\n\n  const submitForm = (name, url) => {\n    const image = { name: name, url: url };\n    fetch(\"/images\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ image }),\n    }).then((res) => window.location.reload());\n  };\n\n  return (\n    <div className=\"add-image-form-div\">\n      <svg\n        className=\"close-form-button\"\n        onClick={closeForm}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        width=\"24\"\n        fill=\"hsl(215, 66%, 40%)\"\n      >\n        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n        <path d=\"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\" />\n      </svg>\n      <h1 className=\"add-image-form-heading\">Add New Image</h1>\n      <form\n        className=\"add-image-form\"\n        aria-label=\"add-image-form\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          submitForm(newImageName, newImageUrl);\n        }}\n      >\n        <label htmlFor=\"name\">Name</label>\n        <input\n          type=\"text\"\n          id=\"name\"\n          aria-label=\"name-input\"\n          placeholder=\"Name...\"\n          onChange={(e) => setNewImageName(e.target.value)}\n        />\n\n        <label htmlFor=\"url\">Url</label>\n        <input\n          type=\"text\"\n          id=\"url\"\n          aria-label=\"url-input\"\n          placeholder=\"Url...\"\n          onChange={(e) => setNewImageUrl(e.target.value)}\n        />\n\n        <button>Submit</button>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport \"./NewImageModal.css\";\nimport { NewImageForm } from \"./NewImageForm\";\n\nexport function NewImageModal({ closeForm }) {\n  return (\n    <div className=\"new-image-modal\">\n      <div className=\"new-image-modal-card\">\n        <NewImageForm closeForm={closeForm} />\n      </div>\n    </div>\n  );\n}\n\nexport function NewImageModalWrapper() {\n  const [isToggled, setToggled] = useState(false);\n  return (\n    <div className=\"add-image-div\">\n      {isToggled && <NewImageModal closeForm={() => setToggled(false)} />}\n      <button className=\"add-image-button\" onClick={() => setToggled(!isToggled)}>Add New Image </button>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Loading } from \"../Loading\";\nimport \"./ImagesPage.css\";\nimport { NewImageModalWrapper } from \"./NewImageModal\";\n\nexport function ImagesPage() {\n  const [images, setImages] = useState(null);\n\n  useEffect(() => {\n    fetch(\"/images\")\n      .then((res) => res.json())\n      .then((serverResponse) => setImages(serverResponse.images));\n  }, []);\n\n  return images ? (\n    <>\n        <div className=\"images-page\">\n          <ul className=\"image-thumbnails\">\n            {images.map((image, index) => (\n              <ImageThumbnail image={image} key={index} />\n            ))}\n          </ul>\n          <NewImageModalWrapper/>\n        </div>\n    </>\n  ) : (\n    <Loading />\n  );\n}\n\nfunction ImageThumbnail({ image }) {\n  return (\n    <li>\n      <Link to={`/images/${image.id}`}>\n        <img className=\"image-thumbnail\" src={image.url} alt={image.name}></img>\n      </Link>\n    </li>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Loading } from \"../../Loading\";\nimport \"./Annotations.css\";\n\nexport function Annotations({ image, setState }) {\n  const [annotations, setAnnotations] = useState(null);\n  const [currentAnnotation, setCurrentAnnotation] = useState(null);\n\n  useEffect(() => {\n    fetch(`/images/${image.id}/annotations`)\n      .then((res) => res.json())\n      .then((serverResponse) => {setAnnotations(serverResponse.annotations);\n      setCurrentAnnotation(serverResponse.annotations[serverResponse.annotations.length - 1])});\n  }, [image]);\n\n  const AnnotationsList = () => {\n    return (\n      <div className=\"annotations-list-div\">\n        <h2>Annotations</h2>\n        <ul className=\"annotations-list\">\n          {annotations.map((annotation, index) => {\n            return <AnnotationListItem\n            annotation={annotation}\n            setCurrentAnnotation={setCurrentAnnotation}\n            key={index}\n          />\n          })}\n        </ul>\n      </div>\n    );\n  };\n\n  const AnnotationListItem = ({ annotation }) => {\n    return (\n      <li\n        className=\"annotation-list-item\"\n        onClick={() => setCurrentAnnotation(annotation)}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          width=\"24\"\n          fill=\"hsl(215, 70%, 91%)\"\n        >\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z\" />\n        </svg>\n      </li>\n    );\n  };\n\n  const VisualAnnotation = () => {\n    const imageInfo = document.querySelector(\".image\").getBoundingClientRect();\n\n    return (\n      <img\n        style={{\n          width: imageInfo.width,\n          height: imageInfo.height,\n        }}\n        className=\"visual-annotation\"\n        src={currentAnnotation.visual}\n        alt=\"visual annotation\"\n      ></img>\n    );\n  };\n\n  const WrittenAnnotation = () => {\n    const deleteAnnotation = (annotation) => {\n      fetch(`/images/${annotation.image_id}/annotations/${annotation.id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }).then((res) => window.location.reload());\n    };\n\n    return (\n      <div className=\"written-annotation-div\">\n        <p className=\"written-annotation\">{currentAnnotation.written}</p>\n        <svg\n          className=\"written-annotation-delete-button\"\n          onClick={() => deleteAnnotation(currentAnnotation)}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          width=\"16\"\n          fill=\"hsl(215, 66%, 40%)\"\n        >\n          <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n          <path d=\"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\" />\n        </svg>\n      </div>\n    );\n  };\n\n  return annotations ? (\n    <>\n      <AnnotationsList />\n      \n      {currentAnnotation && (\n        <>\n          <VisualAnnotation />\n          <WrittenAnnotation />\n        </>\n      )}\n      \n    </>\n  ) : (\n    <Loading />\n  );\n}\n","export function ColourSwatches({ setCurrentColour }) {\n  const colourSwatches = [\n    \"hsl(352, 100%, 65%)\",\n    \"hsl(41, 100%, 65%)\",\n    \"hsl(193, 72%, 63%)\",\n    \"hsl(0, 0%, 100%)\",\n    \"hsl(0, 0%, 50%)\",\n    \"hsl(0, 0%, 0%)\",\n\n  ];\n\n  return (\n    <ul className=\"colour-swatches\">\n      {colourSwatches.map((swatch, index) => {\n        return (\n          <li \n          className={index === 0 ? \"colour-swatch current-swatch\" : \"colour-swatch\"}\n          onClick={(e) => {setCurrentColour(swatch); setAsCurrentSwatch(e.target)}}\n          key={index}>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              fill={swatch}\n            >\n              <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n              <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z\" />\n            </svg>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction setAsCurrentSwatch(element){\n  document.querySelector(\".current-swatch\").classList.remove(\"current-swatch\");\n  element.classList.add(\"current-swatch\");\n}","import \"./Canvas.css\";\nimport { useState } from \"react\";\nimport { ColourSwatches} from \"./ColourSwatches\";\n\nexport function Canvas() {\n  const [drawMode, setDrawMode] = useState(false);\n  const [isMouseDown, setIsMouseDown] = useState(false);\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\n  const imageInfo = document.querySelector(\".image\").getBoundingClientRect();\n  const canvasWidth = imageInfo.width;\n  const canvasHeight = imageInfo.height;\n  const [currentColour, setCurrentColour] = useState(\"hsl(352, 100%, 65%)\")\n\n  const getCoordinates = (e) => {\n    const viewportXCoordinate = e.clientX;\n    const viewportYCoordinate = e.clientY;\n\n    const canvas = document.querySelector(\".canvas\");\n    const canvasInfo = canvas.getBoundingClientRect();\n\n    const canvasLeft = canvasInfo.x;\n    const canvasTop = canvasInfo.y;\n\n    const x = viewportXCoordinate - canvasLeft;\n    const y = viewportYCoordinate - canvasTop;\n\n    return { x, y };\n  };\n\n  const draw = (e) => {\n    const { x, y } = getCoordinates(e);\n    const canvas = document.querySelector(\".canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    ctx.beginPath();\n    ctx.strokeStyle = currentColour;\n    ctx.lineWidth = 3;\n    ctx.moveTo(coordinates.x, coordinates.y);\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    ctx.closePath();\n  };\n\n  const drawDot = () => {\n    const canvas = document.querySelector(\".canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = currentColour;\n    ctx.fillRect(coordinates.x, coordinates.y, 3, 3);\n  };\n\n  const mouseUpHandler = () => {\n    if (drawMode) setIsMouseDown(false);\n  };\n\n  const mouseDownHandler = (e) => {\n    if (drawMode) {\n      drawDot();\n      setIsMouseDown(true);\n    }\n  };\n\n  const mouseMoveHandler = (e) => {\n    if (isMouseDown) draw(e);\n    setCoordinates(getCoordinates(e));\n  };\n\n  return (\n    <>\n      <div className=\"canvas-tools\">\n        <div className=\"tools\">\n          <Brush drawMode={drawMode} setDrawMode={setDrawMode} />\n          <ClearCanvas />\n        </div>\n        \n        <ColourSwatches setCurrentColour={setCurrentColour}/>\n      </div>\n      <canvas\n        className=\"canvas\"\n        width={`${canvasWidth}`}\n        height={`${canvasHeight}`}\n        onMouseUp={mouseUpHandler}\n        onMouseDown={(e) => mouseDownHandler(e)}\n        onMouseMove={(e) => mouseMoveHandler(e)}\n      ></canvas>\n    </>\n  );\n}\n\n//----------------------------------------------------------------------------------------------------\nexport function Brush({ drawMode, setDrawMode }) {\n  return drawMode ? (\n    <svg\n      className=\"brush active-brush\"\n      onClick={() => setDrawMode(!drawMode)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\" />\n    </svg>\n  ) : (\n    <svg\n      className=\"brush\"\n      onClick={() => setDrawMode(!drawMode)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\" />\n    </svg>\n  );\n}\n\nexport function ClearCanvas() {\n  return (\n    <svg\n      className=\"clear-canvas\"\n      onClick={() => clearCanvas()}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z\" />\n    </svg>\n  );\n}\n\nfunction clearCanvas() {\n  const canvas = document.querySelector(\".canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  const canvasInfo = canvas.getBoundingClientRect();\n  ctx.clearRect(0, 0, canvasInfo.width, canvasInfo.height);\n}\n","import { useState } from \"react\";\nimport { Canvas } from \"./Canvas\";\nimport \"./Annotate.css\";\n\nexport function Annotate({ image, setState, addIndicatorForCurrentStateSetter }) {\n  const [writtenAnnotation, setWrittenAnnotation] = useState(null);\n  const [visualAnnotation, setVisualAnnotation] = useState(null);\n\n  const submitForm = (visual, written) => {\n    const annotation = { visual, written };\n\n    fetch(`/images/${image.id}/annotations`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ annotation }),\n    }).then((res) => {\n      addIndicatorForCurrentStateSetter(document.querySelector(\".display-annotations-button\"));\n      setState(\"display annotations\");});\n  };\n\n  const SetImageAnnotationButton = () => {\n    return (\n      <button\n        className=\"set-visual-annotation-button\"\n        onClick={() => {\n          const canvas = document.querySelector(\".canvas\");\n          const currentCanvasState = canvas.toDataURL();\n          setVisualAnnotation(currentCanvasState);\n        }}\n      >\n        Set Image Annotation\n      </button>\n    );\n  };\n\n  return (\n    <>\n      <Canvas />\n      <div className=\"annotate-form-div\">\n        <h2 className=\"annotate-form-heading\">Annotation Form</h2>\n        <SetImageAnnotationButton />\n        <form\n          className=\"annotate-form\"\n          aria-label=\"annotate-form\"\n          onSubmit={(e) => {\n            e.preventDefault();\n            submitForm(visualAnnotation, writtenAnnotation);\n          }}\n        >\n          <label htmlFor=\"written-annotation-input\">Write New Annotation</label>\n\n          <textarea\n            className=\"annotate-form-textarea\"\n            type=\"text\"\n            id=\"written-annotation-input\"\n            aria-label=\"written-annotation-input\"\n            onChange={(e) => setWrittenAnnotation(e.target.value)}\n          />\n\n          <button>Submit</button>\n        </form>\n      </div>\n    </>\n  );\n}\n","export function FeatureImage({ image }) {\n  return (\n    <>\n      <img className=\"image center\" src={image.url} alt={image.name}></img>\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\n\nexport function DeleteImageButton({ image }) {\n  let history = useHistory();\n\n  const deleteImage = (id) => {\n    fetch(`/images/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((res) => history.push(\"/images\"));\n  };\n\n  return <button className=\"delete-image-button\" onClick={() => deleteImage(image.id)}>Delete Image?</button>;\n}\n","import \"./ImageDetails.css\";\nimport { DeleteImageButton } from \"./DeleteImageButton\";\n\n\nexport function ImageDetails({ image }) {\n  return (\n    <>\n      <div className=\"image-details\">\n        <p className=\"image-details-title\">{image.name}</p>\n        <a className=\"image-details-url\" href={image.url}>\n          Source Link\n        </a>\n      </div>\n\n      <DeleteImageButton image={image} />\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport \"./ImagePage.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Loading } from \"../Loading\";\nimport { Annotations } from \"./Display Annotations/Annotations\";\nimport { Annotate } from \"./Annotate/Annotate\";\nimport { FeatureImage } from \"./FeatureImage\";\nimport { ImageDetails } from \"./Display Image Info/ImageDetails\";\n\nexport function ImagePage() {\n  const { id } = useParams();\n  const [image, setImage] = useState(null);\n  const [state, setState] = useState(\"display image\");\n\n  useEffect(() => {\n    fetch(`/images/${id}`)\n      .then((res) => res.json())\n      .then((serverResponse) => setImage(serverResponse.image));\n  }, [id]);\n\n  const addIndicatorForCurrentStateSetter = (element) => {\n    document\n      .querySelector(\".active-state-setter\")\n      .classList.remove(\"active-state-setter\");\n    element.classList.add(\"active-state-setter\");\n  };\n\n  return (\n    <>\n      <div className=\"image-page\">\n        {image ? (\n          <>\n            <ul className=\"state-setters\">\n              <li\n                className=\"active-state-setter\"\n                onClick={(e) => {\n                  setState(\"display image\");\n                  moveImageToMiddle();\n                  addIndicatorForCurrentStateSetter(e.target);\n                }}\n              >\n                Display Image\n              </li>\n              <li\n                onClick={(e) => {\n                  setState(\"display image details\");\n                  moveImageToLeft();\n                  addIndicatorForCurrentStateSetter(e.target);\n                }}\n              >\n                Display Image Details\n              </li>\n              <li\n              className=\"display-annotations-button\"\n                onClick={(e) => {\n                  setState(\"display annotations\");\n                  moveImageToLeft();\n                  addIndicatorForCurrentStateSetter(e.target);\n                }}\n              >\n                Display Annotations\n              </li>\n              <li\n                onClick={(e) => {\n                  setState(\"annotate\");\n                  moveImageToLeft();\n                  addIndicatorForCurrentStateSetter(e.target);\n                }}\n              >\n                Annotate\n              </li>\n            </ul>\n            {image && <FeatureImage image={image} />}\n            {state === \"display image details\" && (\n              <ImageDetails image={image} />\n            )}\n            {state === \"display annotations\" && (\n              <Annotations image={image} setState={setState} />\n            )}\n            {state === \"annotate\" && (\n              <Annotate image={image} setState={setState} addIndicatorForCurrentStateSetter={addIndicatorForCurrentStateSetter}/>\n            )}\n          </>\n        ) : (\n          <Loading />\n        )}\n      </div>\n    </>\n  );\n}\n\nfunction moveImageToMiddle() {\n  const image = document.querySelector(\".image\");\n  image.classList.add(\"center\");\n}\n\nfunction moveImageToLeft() {\n  const image = document.querySelector(\".image\");\n  image.classList.remove(\"center\");\n}\n","import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Homepage } from \"./components/Homepage/Homepage\";\nimport { ImagesPage } from \"./components/Images Page/ImagesPage\";\nimport { ImagePage } from \"./components/Image Page/ImagePage\";\n\nfunction App() {\n  return (\n    <main className=\"App\">\n      <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Homepage} />\n\n            <Route exact path=\"/images\" component={ImagesPage} />\n\n            <Route exact path=\"/images/:id\" component={ImagePage} />\n          </Switch>\n      </Router>\n    </main>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}