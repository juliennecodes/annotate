{"version":3,"sources":["components/Homepage/Homepage.js","components/Loading.js","components/Icons/CloseIcon.js","components/Images Page/NewImageForm.js","components/Images Page/NewImageModal.js","components/Images Page/ImagesPage.js","components/Icons/CircleIcon.js","components/Icons/DeleteIcon.js","components/Image Page/Display Annotations/Annotations.js","components/Image Page/Annotate/ColourSwatches.js","components/Image Page/Annotate/Canvas.js","components/Image Page/Annotate/Annotate.js","components/Image Page/Display Image Info/DeleteImageButton.js","components/Image Page/Display Image Info/ImageDetails.js","components/Image Page/ImagePage.js","App.js","index.js"],"names":["Homepage","className","to","Loading","style","justifySelf","alignSelf","CloseIcon","onClickCallback","size","onClick","xmlns","height","viewBox","width","fill","d","NewImageForm","closeForm","setImages","useState","newImageTitle","setNewImageTitle","newImageUrl","setNewImageUrl","submitForm","title","url","image","fetch","method","headers","body","JSON","stringify","then","res","json","serverResponse","images","aria-label","onSubmit","e","preventDefault","htmlFor","type","id","placeholder","onChange","target","value","NewImageModal","NewImageModalWrapper","isToggled","setToggled","ImagesPage","useEffect","left","map","index","ImageThumbnail","src","alt","CircleIcon","DeleteIcon","Annotations","annotations","updateAnnotations","length","currentAnnotation","setCurrentAnnotation","AnnotationsList","annotation","AnnotationListItem","VisualAnnotation","imageInfo","document","querySelector","getBoundingClientRect","visual","WrittenAnnotation","written","ColourSwatches","setCurrentColour","swatch","element","classList","remove","add","Canvas","drawMode","setDrawMode","isMouseDown","setIsMouseDown","x","y","coordinates","setCoordinates","canvasWidth","canvasHeight","currentColour","getCoordinates","viewportXCoordinate","clientX","viewportYCoordinate","clientY","canvasInfo","mouseDownHandler","ctx","getContext","fillStyle","fillRect","drawDot","mouseMoveHandler","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","closePath","draw","Brush","ClearCanvas","onMouseUp","onMouseDown","onMouseMove","canvas","clearRect","clearCanvas","Annotate","setState","addIndicatorForCurrentStateSetter","writtenAnnotation","setWrittenAnnotation","visualAnnotation","setVisualAnnotation","SetImageAnnotationButton","currentCanvasState","toDataURL","imageId","DeleteImageButton","history","useHistory","push","ImageDetails","href","ImagePage","useParams","setImage","setAnnotations","state","StateSetters","FeatureImage","name","role","moveImageToLeft","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ec0a487b.chunk.js","sourcesContent":["import {Link} from \"react-router-dom\";\nimport \"./Homepage.css\";\n\nexport function Homepage() {\n  return (\n    <div className=\"homepage-div\">\n      <h1 className=\"homepage-heading\">annotate</h1>\n      <Link className=\"homepage-get-started\" to=\"/images\">get started</Link>\n    </div>\n  );\n}\n","export function Loading() {\n  return (\n    <div style={{justifySelf: \"center\", alignSelf: \"center\"}}>\n      <p>Loading</p>\n    </div>\n  );\n}\n","export function CloseIcon({className, onClickCallback, size}) {\n  return (\n    <svg\n      className={className}\n      onClick={onClickCallback}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height={`${size}`}\n      viewBox=\"0 0 24 24\"\n      width={`${size}`}\n      fill=\"hsl(215, 66%, 40%)\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\" />\n    </svg>\n  );\n}\n","import { useState } from \"react\";\nimport { CloseIcon } from \"../Icons/CloseIcon\";\nimport \"./NewImageForm.css\";\n\nexport function NewImageForm({ closeForm, setImages }) {\n  const [newImageTitle, setNewImageTitle] = useState(null);\n  const [newImageUrl, setNewImageUrl] = useState(null);\n\n  const fetchImages = () => {\n    fetch(`/images`)\n      .then((res) => res.json())\n      .then((serverResponse) => {\n        closeForm();\n        setImages(serverResponse.images);\n      });\n  };\n\n  const submitForm = (title, url) => {\n    const image = { title: title, url: url };\n    fetch(\"/images\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ image }),\n    }).then((res) => fetchImages());\n  };\n\n  return (\n    <div className=\"add-image-form-div\">\n      <CloseIcon className={\"close-form-button\"} onClickCallback={closeForm} size={24}/>\n      <h1 className=\"add-image-form-heading\">Add New Image</h1>\n      <form\n        className=\"add-image-form\"\n        aria-label=\"add-image-form\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          submitForm(newImageTitle, newImageUrl);\n        }}\n      >\n        <label htmlFor=\"title\">Title</label>\n        <input\n          type=\"text\"\n          id=\"title\"\n          aria-label=\"title-input\"\n          placeholder=\"Title...\"\n          onChange={(e) => setNewImageTitle(e.target.value)}\n        />\n\n        <label htmlFor=\"url\">Url</label>\n        <input\n          type=\"text\"\n          id=\"url\"\n          aria-label=\"url-input\"\n          placeholder=\"Url...\"\n          onChange={(e) => setNewImageUrl(e.target.value)}\n        />\n\n        <button>Submit</button>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport \"./NewImageModal.css\";\nimport { NewImageForm } from \"./NewImageForm\";\n\nexport function NewImageModal({ closeForm, setImages }) {\n  return (\n    <div className=\"new-image-modal\">\n      <div className=\"new-image-modal-card\">\n        <NewImageForm closeForm={closeForm} setImages={setImages} />\n      </div>\n    </div>\n  );\n}\n\nexport function NewImageModalWrapper({setImages}) {\n  const [isToggled, setToggled] = useState(false);\n  return (\n    <div className=\"add-image-div\">\n      {isToggled && <NewImageModal closeForm={() => setToggled(false)} setImages={setImages}/>}\n      <button className=\"add-image-button\" onClick={() => setToggled(!isToggled)}>Add New Image </button>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Loading } from \"../Loading\";\nimport \"./ImagesPage.css\";\nimport { NewImageModalWrapper } from \"./NewImageModal\";\n\nexport function ImagesPage() {\n  const [images, setImages] = useState(null);\n\n  useEffect(() => {\n    fetch(\"/images\")\n      .then((res) => res.json())\n      .then((serverResponse) => setImages(serverResponse.images));\n  }, []);\n\n  return images ? (\n    <>\n        <div className=\"images-page\">\n          <h1 className=\"page-heading\" style={{left: \"-80px\"}}>Images Page</h1>\n          <ul className=\"image-thumbnails\">\n            {images.map((image, index) => (\n              <ImageThumbnail image={image} key={index} />\n            ))}\n          </ul>\n          <NewImageModalWrapper setImages={setImages}/>\n        </div>\n    </>\n  ) : (\n    <Loading />\n  );\n}\n\nfunction ImageThumbnail({ image }) {\n  return (\n    <li>\n      <Link to={`/images/${image.id}`}>\n        <img className=\"image-thumbnail\" src={image.url} alt={image.title}></img>\n      </Link>\n    </li>\n  );\n}\n","export function CircleIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n      fill=\"hsl(215, 70%, 91%)\"\n    >\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z\" />\n    </svg>\n  );\n}\n","export function DeleteIcon({className, onClickCallback, size}) {\n  return (\n    <svg\n      className={className}\n      onClick={onClickCallback}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height={`${size}`}\n      viewBox=\"0 0 24 24\"\n      width={`${size}`}\n      fill=\"hsl(215, 66%, 40%)\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\" />\n    </svg>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { CircleIcon } from \"../../Icons/CircleIcon\";\nimport { DeleteIcon } from \"../../Icons/DeleteIcon\";\nimport \"./Annotations.css\";\n\nexport function Annotations({ annotations, updateAnnotations }) {\n  const [currentAnnotation, setCurrentAnnotation] = useState(\n    annotations[annotations.length - 1]\n  );\n\n  const deleteAnnotation = (annotation) => {\n    fetch(`/annotations/${annotation.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((res) => updateAnnotations());\n  };\n\n  useEffect(() => {\n    setCurrentAnnotation(annotations[annotations.length - 1]);\n  }, [annotations]);\n  // This makes it so current annotation is updated when a new annotation is made\n  // Without it, the current annotation remains the last item of the initial annotations\n  // The annotations in the image page gets updated but it seems the current annotations remained\n  // This code basically says if annotations changed, change currentAnnotation as well\n\n  const AnnotationsList = () => {\n    return (\n      <div className=\"annotations-list-div\">\n        <h2>Annotations</h2>\n        <ul className=\"annotations-list\">\n          {annotations.map((annotation, index) => {\n            return (\n              <AnnotationListItem\n                annotation={annotation}\n                setCurrentAnnotation={setCurrentAnnotation}\n                key={index}\n              />\n            );\n          })}\n        </ul>\n      </div>\n    );\n  };\n\n  const AnnotationListItem = ({ annotation }) => {\n    return (\n      <li\n        className=\"annotation-list-item\"\n        onClick={() => setCurrentAnnotation(annotation)}\n      >\n        <CircleIcon />\n      </li>\n    );\n  };\n\n  const VisualAnnotation = () => {\n    const imageInfo = document.querySelector(\".image\").getBoundingClientRect();\n\n    return (\n      <img\n        style={{\n          width: imageInfo.width,\n          height: imageInfo.height,\n        }}\n        className=\"visual-annotation\"\n        src={currentAnnotation.visual}\n        alt={`visual annotation`}\n      ></img>\n    );\n  };\n\n  const WrittenAnnotation = () => {\n    return (\n      <div className=\"written-annotation-div\">\n        <DeleteIcon\n          className=\"written-annotation-delete-button\"\n          onClickCallback={() => deleteAnnotation(currentAnnotation)}\n          size={16}\n        />\n        <p className=\"written-annotation\">{currentAnnotation.written}</p>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <AnnotationsList />\n      {currentAnnotation && (\n        <>\n          <VisualAnnotation />\n          <WrittenAnnotation />\n        </>\n      )}\n    </>\n  );\n}\n","export function ColourSwatches({ setCurrentColour }) {\n  const colourSwatches = [\n    \"hsl(352, 100%, 65%)\",\n    \"hsl(41, 100%, 65%)\",\n    \"hsl(193, 72%, 63%)\",\n    \"hsl(0, 0%, 100%)\",\n    \"hsl(0, 0%, 50%)\",\n    \"hsl(0, 0%, 0%)\",\n  ];\n\n  return (\n    <ul className=\"colour-swatches\">\n      {colourSwatches.map((swatch, index) => {\n        return (\n          <li \n          className={index === 0 ? \"colour-swatch current-swatch\" : \"colour-swatch\"}\n          onClick={(e) => {setCurrentColour(swatch); setAsCurrentSwatch(e.target)}}\n          key={index}>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              fill={swatch}\n            >\n              <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n              <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z\" />\n            </svg>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction setAsCurrentSwatch(element){\n  document.querySelector(\".current-swatch\").classList.remove(\"current-swatch\");\n  element.classList.add(\"current-swatch\");\n}","import \"./Canvas.css\";\nimport { useState } from \"react\";\nimport { ColourSwatches} from \"./ColourSwatches\";\n\nexport function Canvas() {\n  const [drawMode, setDrawMode] = useState(true);\n  const [isMouseDown, setIsMouseDown] = useState(false);\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\n  const imageInfo = document.querySelector(\".image\").getBoundingClientRect();\n  const canvasWidth = imageInfo.width;\n  const canvasHeight = imageInfo.height;\n  const [currentColour, setCurrentColour] = useState(\"hsl(352, 100%, 65%)\")\n\n  const getCoordinates = (e) => {\n    const viewportXCoordinate = e.clientX;\n    const viewportYCoordinate = e.clientY;\n\n    const canvas = document.querySelector(\".canvas\");\n    const canvasInfo = canvas.getBoundingClientRect();\n\n    const canvasLeft = canvasInfo.x;\n    const canvasTop = canvasInfo.y;\n\n    const x = viewportXCoordinate - canvasLeft;\n    const y = viewportYCoordinate - canvasTop;\n\n    return { x, y };\n  };\n\n  const draw = (e) => {\n    const { x, y } = getCoordinates(e);\n    const canvas = document.querySelector(\".canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    ctx.beginPath();\n    ctx.strokeStyle = currentColour;\n    ctx.lineWidth = 3;\n    ctx.moveTo(coordinates.x, coordinates.y);\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    ctx.closePath();\n  };\n\n  const drawDot = () => {\n    const canvas = document.querySelector(\".canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = currentColour;\n    ctx.fillRect(coordinates.x, coordinates.y, 3, 3);\n  };\n\n  const mouseUpHandler = () => {\n    if (drawMode) setIsMouseDown(false);\n  };\n\n  const mouseDownHandler = (e) => {\n    if (drawMode) {\n      drawDot();\n      setIsMouseDown(true);\n    }\n  };\n\n  const mouseMoveHandler = (e) => {\n    if (isMouseDown) draw(e);\n    setCoordinates(getCoordinates(e));\n  };\n\n  return (\n    <>\n      <div className=\"canvas-tools\">\n        <div className=\"tools\">\n          <Brush drawMode={drawMode} setDrawMode={setDrawMode} />\n          <ClearCanvas />\n        </div>\n        \n        <ColourSwatches setCurrentColour={setCurrentColour}/>\n      </div>\n      <canvas\n        className=\"canvas\"\n        width={`${canvasWidth}`}\n        height={`${canvasHeight}`}\n        onMouseUp={mouseUpHandler}\n        onMouseDown={(e) => mouseDownHandler(e)}\n        onMouseMove={(e) => mouseMoveHandler(e)}\n      ></canvas>\n    </>\n  );\n}\n\n//----------------------------------------------------------------------------------------------------\nexport function Brush({ drawMode, setDrawMode }) {\n  return drawMode ? (\n    <svg\n      className=\"brush active-brush\"\n      onClick={() => setDrawMode(!drawMode)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\" />\n    </svg>\n  ) : (\n    <svg\n      className=\"brush\"\n      onClick={() => setDrawMode(!drawMode)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\" />\n    </svg>\n  );\n}\n\nexport function ClearCanvas() {\n  return (\n    <svg\n      className=\"clear-canvas\"\n      onClick={() => clearCanvas()}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z\" />\n    </svg>\n  );\n}\n\nfunction clearCanvas() {\n  const canvas = document.querySelector(\".canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  const canvasInfo = canvas.getBoundingClientRect();\n  ctx.clearRect(0, 0, canvasInfo.width, canvasInfo.height);\n}\n","import { useState } from \"react\";\nimport { Canvas } from \"./Canvas\";\nimport \"./Annotate.css\";\n\nexport function Annotate({ image, setState, addIndicatorForCurrentStateSetter, updateAnnotations }) {\n  const [writtenAnnotation, setWrittenAnnotation] = useState(null);\n  const [visualAnnotation, setVisualAnnotation] = useState(null);\n\n  const submitForm = (visual, written) => {\n    const annotation = { visual, written };\n\n    fetch(`/annotations`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ imageId: image.id, annotation: annotation }),\n    }).then((res) => {\n      updateAnnotations();\n      addIndicatorForCurrentStateSetter(document.querySelector(\".display-annotations-button\"));\n      setState(\"display annotations\");});\n  };\n\n  const SetImageAnnotationButton = () => {\n    return (\n      <button\n        className=\"set-visual-annotation-button\"\n        onClick={() => {\n          const canvas = document.querySelector(\".canvas\");\n          const currentCanvasState = canvas.toDataURL();\n          setVisualAnnotation(currentCanvasState);\n        }}\n      >\n        Set Image Annotation\n      </button>\n    );\n  };\n\n  return (\n    <>\n      <Canvas />\n      <div className=\"annotate-form-div\">\n        <h2 className=\"annotate-form-heading\">Annotation Form</h2>\n        <SetImageAnnotationButton />\n        <form\n          className=\"annotate-form\"\n          aria-label=\"annotate-form\"\n          onSubmit={(e) => {\n            e.preventDefault();\n            submitForm(visualAnnotation, writtenAnnotation);\n          }}\n        >\n          <label htmlFor=\"written-annotation-input\">Write New Annotation</label>\n\n          <textarea\n            className=\"annotate-form-textarea\"\n            type=\"text\"\n            id=\"written-annotation-input\"\n            aria-label=\"written-annotation-input\"\n            onChange={(e) => setWrittenAnnotation(e.target.value)}\n          />\n\n          <button>Submit</button>\n        </form>\n      </div>\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\n\nexport function DeleteImageButton({ image }) {\n  let history = useHistory();\n\n  const deleteImage = (id) => {\n    fetch(`/images/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((res) => history.push(\"/images\"));\n  };\n\n  return <button className=\"delete-image-button\" onClick={() => deleteImage(image.id)}>Delete Image?</button>;\n}\n","import \"./ImageDetails.css\";\nimport { DeleteImageButton } from \"./DeleteImageButton\";\n\n\nexport function ImageDetails({ image }) {\n  return (\n    <>\n      <div className=\"image-details\">\n        <p className=\"image-details-title\">{image.title}</p>\n        <a className=\"image-details-url\" href={image.url}>\n          Source Link\n        </a>\n      </div>\n\n      <DeleteImageButton image={image} />\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport \"./ImagePage.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Loading } from \"../Loading\";\nimport { Annotations } from \"./Display Annotations/Annotations\";\nimport { Annotate } from \"./Annotate/Annotate\";\nimport { ImageDetails } from \"./Display Image Info/ImageDetails\";\n\nexport function ImagePage() {\n  const { id } = useParams();\n  const [image, setImage] = useState(null);\n  const [annotations, setAnnotations] = useState(null);\n  const [state, setState] = useState(\"display image\");\n\n  useEffect(() => {\n    fetch(`/images/${id}`)\n      .then((res) => res.json())\n      .then((serverResponse) => {\n        setImage(serverResponse.image);\n      setAnnotations(serverResponse.annotations)});\n  }, [id]);\n\n  const updateAnnotations = () => {\n      fetch(`/annotations?imageId=${id}`)\n        .then((res) => res.json())\n        .then((serverResponse) =>  setAnnotations(serverResponse.annotations));\n  }\n\n  return (\n    <>\n      <div className=\"image-page\">\n        <h1 className=\"page-heading\">Image Page</h1>\n        {image ? (\n          <>\n            <StateSetters setState={setState} />\n            {image && <FeatureImage image={image} />}\n            {state === \"display image details\" && (\n              <ImageDetails image={image} />\n            )}\n            {state === \"display annotations\" && (\n              <Annotations annotations={annotations} updateAnnotations={updateAnnotations}/>\n            )}\n            {state === \"annotate\" && (\n              <Annotate\n                image={image}\n                updateAnnotations={updateAnnotations}\n                setState={setState}\n                addIndicatorForCurrentStateSetter={\n                  addIndicatorForCurrentStateSetter\n                }\n              />\n            )}\n          </>\n        ) : (\n          <Loading />\n        )}\n      </div>\n    </>\n  );\n}\n\nfunction FeatureImage({ image }) {\n  return (\n    <>\n      <img className=\"image center\" src={image.url} alt={image.name}></img>\n    </>\n  );\n}\n\nfunction StateSetters({ setState }) {\n  return (\n    <ul className=\"state-setters\">\n      <li\n        role=\"button\"\n        className=\"active-state-setter\"\n        onClick={(e) => {\n          setState(\"display image\");\n          moveImageToMiddle();\n          addIndicatorForCurrentStateSetter(e.target);\n        }}\n      >\n        Display Image\n      </li>\n      <li\n        role=\"button\"\n        onClick={(e) => {\n          setState(\"display image details\");\n          moveImageToLeft();\n          addIndicatorForCurrentStateSetter(e.target);\n        }}\n      >\n        Display Image Details\n      </li>\n      <li\n        role=\"button\"\n        className=\"display-annotations-button\"\n        onClick={(e) => {\n          setState(\"display annotations\");\n          moveImageToLeft();\n          addIndicatorForCurrentStateSetter(e.target);\n        }}\n      >\n        Display Annotations\n      </li>\n      <li\n        role=\"button\"\n        onClick={(e) => {\n          setState(\"annotate\");\n          moveImageToLeft();\n          addIndicatorForCurrentStateSetter(e.target);\n        }}\n      >\n        Annotate\n      </li>\n    </ul>\n  );\n}\n\nfunction moveImageToMiddle() {\n  const image = document.querySelector(\".image\");\n  image.classList.add(\"center\");\n}\n\nfunction moveImageToLeft() {\n  const image = document.querySelector(\".image\");\n  image.classList.remove(\"center\");\n}\n\nfunction addIndicatorForCurrentStateSetter(element) {\n  document\n    .querySelector(\".active-state-setter\")\n    .classList.remove(\"active-state-setter\");\n  element.classList.add(\"active-state-setter\");\n}\n","import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Homepage } from \"./components/Homepage/Homepage\";\nimport { ImagesPage } from \"./components/Images Page/ImagesPage\";\nimport { ImagePage } from \"./components/Image Page/ImagePage\";\n\nfunction App() {\n  return (\n    <main className=\"App\">\n      <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Homepage} />\n\n            <Route exact path=\"/images\" component={ImagesPage} />\n\n            <Route exact path=\"/images/:id\" component={ImagePage} />\n          </Switch>\n      </Router>\n    </main>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}