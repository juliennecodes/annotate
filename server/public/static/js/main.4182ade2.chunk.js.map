{"version":3,"sources":["components/Homepage/Homepage.js","components/Loading.js","components/Images Page/NewImageForm.js","components/Images Page/NewImageModal.js","components/Images Page/ImagesPage.js","components/Image Page/Display Annotations/Annotations.js","components/Image Page/Annotate/ColourSwatches.js","components/Image Page/Annotate/Canvas.js","components/Image Page/Annotate/Annotate.js","components/Image Page/Display Image Info/DeleteImageButton.js","components/Image Page/Display Image Info/ImageDetails.js","components/Image Page/ImagePage.js","App.js","index.js"],"names":["Homepage","className","to","Loading","style","justifySelf","alignSelf","NewImageForm","closeForm","setImages","useState","newImageName","setNewImageName","newImageUrl","setNewImageUrl","submitForm","name","url","image","fetch","method","headers","body","JSON","stringify","then","res","json","serverResponse","images","onClick","xmlns","height","viewBox","width","fill","d","aria-label","onSubmit","e","preventDefault","htmlFor","type","id","placeholder","onChange","target","value","NewImageModal","NewImageModalWrapper","isToggled","setToggled","ImagesPage","useEffect","left","map","index","ImageThumbnail","src","alt","Annotations","setState","annotations","setAnnotations","currentAnnotation","setCurrentAnnotation","length","AnnotationsList","annotation","AnnotationListItem","VisualAnnotation","imageInfo","document","querySelector","getBoundingClientRect","visual","WrittenAnnotation","written","image_id","window","location","reload","ColourSwatches","setCurrentColour","swatch","element","classList","remove","add","Canvas","drawMode","setDrawMode","isMouseDown","setIsMouseDown","x","y","coordinates","setCoordinates","canvasWidth","canvasHeight","currentColour","getCoordinates","viewportXCoordinate","clientX","viewportYCoordinate","clientY","canvasInfo","mouseDownHandler","ctx","getContext","fillStyle","fillRect","drawDot","mouseMoveHandler","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","closePath","draw","Brush","ClearCanvas","onMouseUp","onMouseDown","onMouseMove","canvas","clearRect","clearCanvas","Annotate","addIndicatorForCurrentStateSetter","writtenAnnotation","setWrittenAnnotation","visualAnnotation","setVisualAnnotation","SetImageAnnotationButton","currentCanvasState","toDataURL","DeleteImageButton","history","useHistory","push","ImageDetails","href","ImagePage","useParams","setImage","state","StateSetters","FeatureImage","moveImageToLeft","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4182ade2.chunk.js","sourcesContent":["import {Link} from \"react-router-dom\";\nimport \"./Homepage.css\";\n\nexport function Homepage() {\n  return (\n    <div className=\"homepage-div\">\n      <h1 className=\"homepage-heading\">annotate</h1>\n      <Link className=\"homepage-get-started\" to=\"/images\">get started</Link>\n    </div>\n  );\n}\n","export function Loading() {\n  return (\n    <div style={{justifySelf: \"center\", alignSelf: \"center\"}}>\n      <p>Loading</p>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport \"./NewImageForm.css\";\n\nexport function NewImageForm({ closeForm, setImages }) {\n  const [newImageName, setNewImageName] = useState(null);\n  const [newImageUrl, setNewImageUrl] = useState(null);\n\n  const fetchImages = () => {\n    fetch(`/images`)\n      .then((res) => res.json())\n      .then((serverResponse) => {\n        closeForm();\n        setImages(serverResponse.images);\n      });\n  };\n\n  const submitForm = (name, url) => {\n    const image = { name: name, url: url };\n    fetch(\"/images\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ image }),\n    }).then((res) => fetchImages());\n  };\n\n  return (\n    <div className=\"add-image-form-div\">\n      <svg\n        className=\"close-form-button\"\n        onClick={closeForm}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        width=\"24\"\n        fill=\"hsl(215, 66%, 40%)\"\n      >\n        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n        <path d=\"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\" />\n      </svg>\n      <h1 className=\"add-image-form-heading\">Add New Image</h1>\n      <form\n        className=\"add-image-form\"\n        aria-label=\"add-image-form\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          submitForm(newImageName, newImageUrl);\n        }}\n      >\n        <label htmlFor=\"name\">Name</label>\n        <input\n          type=\"text\"\n          id=\"name\"\n          aria-label=\"name-input\"\n          placeholder=\"Name...\"\n          onChange={(e) => setNewImageName(e.target.value)}\n        />\n\n        <label htmlFor=\"url\">Url</label>\n        <input\n          type=\"text\"\n          id=\"url\"\n          aria-label=\"url-input\"\n          placeholder=\"Url...\"\n          onChange={(e) => setNewImageUrl(e.target.value)}\n        />\n\n        <button>Submit</button>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport \"./NewImageModal.css\";\nimport { NewImageForm } from \"./NewImageForm\";\n\nexport function NewImageModal({ closeForm, setImages }) {\n  return (\n    <div className=\"new-image-modal\">\n      <div className=\"new-image-modal-card\">\n        <NewImageForm closeForm={closeForm} setImages={setImages} />\n      </div>\n    </div>\n  );\n}\n\nexport function NewImageModalWrapper({setImages}) {\n  const [isToggled, setToggled] = useState(false);\n  return (\n    <div className=\"add-image-div\">\n      {isToggled && <NewImageModal closeForm={() => setToggled(false)} setImages={setImages}/>}\n      <button className=\"add-image-button\" onClick={() => setToggled(!isToggled)}>Add New Image </button>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Loading } from \"../Loading\";\nimport \"./ImagesPage.css\";\nimport { NewImageModalWrapper } from \"./NewImageModal\";\n\nexport function ImagesPage() {\n  const [images, setImages] = useState(null);\n\n  useEffect(() => {\n    fetch(\"/images\")\n      .then((res) => res.json())\n      .then((serverResponse) => setImages(serverResponse.images));\n  }, []);\n\n  return images ? (\n    <>\n        <div className=\"images-page\">\n          <h1 className=\"page-heading\" style={{left: \"-80px\"}}>Images Page</h1>\n          <ul className=\"image-thumbnails\">\n            {images.map((image, index) => (\n              <ImageThumbnail image={image} key={index} />\n            ))}\n          </ul>\n          <NewImageModalWrapper setImages={setImages}/>\n        </div>\n    </>\n  ) : (\n    <Loading />\n  );\n}\n\nfunction ImageThumbnail({ image }) {\n  return (\n    <li>\n      <Link to={`/images/${image.id}`}>\n        <img className=\"image-thumbnail\" src={image.url} alt={image.name}></img>\n      </Link>\n    </li>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Loading } from \"../../Loading\";\nimport \"./Annotations.css\";\n\nexport function Annotations({ image, setState }) {\n  const [annotations, setAnnotations] = useState(null);\n  const [currentAnnotation, setCurrentAnnotation] = useState(null);\n\n  useEffect(() => {\n    fetch(`/images/${image.id}/annotations`)\n      .then((res) => res.json())\n      .then((serverResponse) => {setAnnotations(serverResponse.annotations);\n      setCurrentAnnotation(serverResponse.annotations[serverResponse.annotations.length - 1])});\n  }, [image]);\n\n  const AnnotationsList = () => {\n    return (\n      <div className=\"annotations-list-div\">\n        <h2>Annotations</h2>\n        <ul className=\"annotations-list\">\n          {annotations.map((annotation, index) => {\n            return <AnnotationListItem\n            annotation={annotation}\n            setCurrentAnnotation={setCurrentAnnotation}\n            key={index}\n          />\n          })}\n        </ul>\n      </div>\n    );\n  };\n\n  const AnnotationListItem = ({ annotation }) => {\n    return (\n      <li\n        className=\"annotation-list-item\"\n        onClick={() => setCurrentAnnotation(annotation)}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          width=\"24\"\n          fill=\"hsl(215, 70%, 91%)\"\n        >\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z\" />\n        </svg>\n      </li>\n    );\n  };\n\n  const VisualAnnotation = () => {\n    const imageInfo = document.querySelector(\".image\").getBoundingClientRect();\n\n    return (\n      <img\n        style={{\n          width: imageInfo.width,\n          height: imageInfo.height,\n        }}\n        className=\"visual-annotation\"\n        src={currentAnnotation.visual}\n        alt=\"visual annotation\"\n      ></img>\n    );\n  };\n\n  const WrittenAnnotation = () => {\n    const deleteAnnotation = (annotation) => {\n      fetch(`/images/${annotation.image_id}/annotations/${annotation.id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }).then((res) => window.location.reload());\n    };\n\n    return (\n      <div className=\"written-annotation-div\">\n        <p className=\"written-annotation\">{currentAnnotation.written}</p>\n        <svg\n          className=\"written-annotation-delete-button\"\n          onClick={() => deleteAnnotation(currentAnnotation)}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          width=\"16\"\n          fill=\"hsl(215, 66%, 40%)\"\n        >\n          <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n          <path d=\"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\" />\n        </svg>\n      </div>\n    );\n  };\n\n  return annotations ? (\n    <>\n      <AnnotationsList />\n      \n      {currentAnnotation && (\n        <>\n          <VisualAnnotation />\n          <WrittenAnnotation />\n        </>\n      )}\n    </>\n  ) : (\n    <Loading />\n  );\n}\n","export function ColourSwatches({ setCurrentColour }) {\n  const colourSwatches = [\n    \"hsl(352, 100%, 65%)\",\n    \"hsl(41, 100%, 65%)\",\n    \"hsl(193, 72%, 63%)\",\n    \"hsl(0, 0%, 100%)\",\n    \"hsl(0, 0%, 50%)\",\n    \"hsl(0, 0%, 0%)\",\n  ];\n\n  return (\n    <ul className=\"colour-swatches\">\n      {colourSwatches.map((swatch, index) => {\n        return (\n          <li \n          className={index === 0 ? \"colour-swatch current-swatch\" : \"colour-swatch\"}\n          onClick={(e) => {setCurrentColour(swatch); setAsCurrentSwatch(e.target)}}\n          key={index}>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              fill={swatch}\n            >\n              <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n              <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z\" />\n            </svg>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction setAsCurrentSwatch(element){\n  document.querySelector(\".current-swatch\").classList.remove(\"current-swatch\");\n  element.classList.add(\"current-swatch\");\n}","import \"./Canvas.css\";\nimport { useState } from \"react\";\nimport { ColourSwatches} from \"./ColourSwatches\";\n\nexport function Canvas() {\n  const [drawMode, setDrawMode] = useState(true);\n  const [isMouseDown, setIsMouseDown] = useState(false);\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\n  const imageInfo = document.querySelector(\".image\").getBoundingClientRect();\n  const canvasWidth = imageInfo.width;\n  const canvasHeight = imageInfo.height;\n  const [currentColour, setCurrentColour] = useState(\"hsl(352, 100%, 65%)\")\n\n  const getCoordinates = (e) => {\n    const viewportXCoordinate = e.clientX;\n    const viewportYCoordinate = e.clientY;\n\n    const canvas = document.querySelector(\".canvas\");\n    const canvasInfo = canvas.getBoundingClientRect();\n\n    const canvasLeft = canvasInfo.x;\n    const canvasTop = canvasInfo.y;\n\n    const x = viewportXCoordinate - canvasLeft;\n    const y = viewportYCoordinate - canvasTop;\n\n    return { x, y };\n  };\n\n  const draw = (e) => {\n    const { x, y } = getCoordinates(e);\n    const canvas = document.querySelector(\".canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    ctx.beginPath();\n    ctx.strokeStyle = currentColour;\n    ctx.lineWidth = 3;\n    ctx.moveTo(coordinates.x, coordinates.y);\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    ctx.closePath();\n  };\n\n  const drawDot = () => {\n    const canvas = document.querySelector(\".canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = currentColour;\n    ctx.fillRect(coordinates.x, coordinates.y, 3, 3);\n  };\n\n  const mouseUpHandler = () => {\n    if (drawMode) setIsMouseDown(false);\n  };\n\n  const mouseDownHandler = (e) => {\n    if (drawMode) {\n      drawDot();\n      setIsMouseDown(true);\n    }\n  };\n\n  const mouseMoveHandler = (e) => {\n    if (isMouseDown) draw(e);\n    setCoordinates(getCoordinates(e));\n  };\n\n  return (\n    <>\n      <div className=\"canvas-tools\">\n        <div className=\"tools\">\n          <Brush drawMode={drawMode} setDrawMode={setDrawMode} />\n          <ClearCanvas />\n        </div>\n        \n        <ColourSwatches setCurrentColour={setCurrentColour}/>\n      </div>\n      <canvas\n        className=\"canvas\"\n        width={`${canvasWidth}`}\n        height={`${canvasHeight}`}\n        onMouseUp={mouseUpHandler}\n        onMouseDown={(e) => mouseDownHandler(e)}\n        onMouseMove={(e) => mouseMoveHandler(e)}\n      ></canvas>\n    </>\n  );\n}\n\n//----------------------------------------------------------------------------------------------------\nexport function Brush({ drawMode, setDrawMode }) {\n  return drawMode ? (\n    <svg\n      className=\"brush active-brush\"\n      onClick={() => setDrawMode(!drawMode)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\" />\n    </svg>\n  ) : (\n    <svg\n      className=\"brush\"\n      onClick={() => setDrawMode(!drawMode)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\" />\n    </svg>\n  );\n}\n\nexport function ClearCanvas() {\n  return (\n    <svg\n      className=\"clear-canvas\"\n      onClick={() => clearCanvas()}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n    >\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z\" />\n    </svg>\n  );\n}\n\nfunction clearCanvas() {\n  const canvas = document.querySelector(\".canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  const canvasInfo = canvas.getBoundingClientRect();\n  ctx.clearRect(0, 0, canvasInfo.width, canvasInfo.height);\n}\n","import { useState } from \"react\";\nimport { Canvas } from \"./Canvas\";\nimport \"./Annotate.css\";\n\nexport function Annotate({ image, setState, addIndicatorForCurrentStateSetter }) {\n  const [writtenAnnotation, setWrittenAnnotation] = useState(null);\n  const [visualAnnotation, setVisualAnnotation] = useState(null);\n\n  const submitForm = (visual, written) => {\n    const annotation = { visual, written };\n\n    fetch(`/images/${image.id}/annotations`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ annotation }),\n    }).then((res) => {\n      addIndicatorForCurrentStateSetter(document.querySelector(\".display-annotations-button\"));\n      setState(\"display annotations\");});\n  };\n\n  const SetImageAnnotationButton = () => {\n    return (\n      <button\n        className=\"set-visual-annotation-button\"\n        onClick={() => {\n          const canvas = document.querySelector(\".canvas\");\n          const currentCanvasState = canvas.toDataURL();\n          setVisualAnnotation(currentCanvasState);\n        }}\n      >\n        Set Image Annotation\n      </button>\n    );\n  };\n\n  return (\n    <>\n      <Canvas />\n      <div className=\"annotate-form-div\">\n        <h2 className=\"annotate-form-heading\">Annotation Form</h2>\n        <SetImageAnnotationButton />\n        <form\n          className=\"annotate-form\"\n          aria-label=\"annotate-form\"\n          onSubmit={(e) => {\n            e.preventDefault();\n            submitForm(visualAnnotation, writtenAnnotation);\n          }}\n        >\n          <label htmlFor=\"written-annotation-input\">Write New Annotation</label>\n\n          <textarea\n            className=\"annotate-form-textarea\"\n            type=\"text\"\n            id=\"written-annotation-input\"\n            aria-label=\"written-annotation-input\"\n            onChange={(e) => setWrittenAnnotation(e.target.value)}\n          />\n\n          <button>Submit</button>\n        </form>\n      </div>\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\n\nexport function DeleteImageButton({ image }) {\n  let history = useHistory();\n\n  const deleteImage = (id) => {\n    fetch(`/images/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((res) => history.push(\"/images\"));\n  };\n\n  return <button className=\"delete-image-button\" onClick={() => deleteImage(image.id)}>Delete Image?</button>;\n}\n","import \"./ImageDetails.css\";\nimport { DeleteImageButton } from \"./DeleteImageButton\";\n\n\nexport function ImageDetails({ image }) {\n  return (\n    <>\n      <div className=\"image-details\">\n        <p className=\"image-details-title\">{image.name}</p>\n        <a className=\"image-details-url\" href={image.url}>\n          Source Link\n        </a>\n      </div>\n\n      <DeleteImageButton image={image} />\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport \"./ImagePage.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Loading } from \"../Loading\";\nimport { Annotations } from \"./Display Annotations/Annotations\";\nimport { Annotate } from \"./Annotate/Annotate\";\nimport { ImageDetails } from \"./Display Image Info/ImageDetails\";\n\nexport function ImagePage() {\n  const { id } = useParams();\n  const [image, setImage] = useState(null);\n  const [state, setState] = useState(\"display image\");\n\n  useEffect(() => {\n    fetch(`/images/${id}`)\n      .then((res) => res.json())\n      .then((serverResponse) => setImage(serverResponse.image));\n  }, [id]);\n\n  return (\n    <>\n      <div className=\"image-page\">\n        <h1 className=\"page-heading\">Image Page</h1>\n        {image ? (\n          <>\n            <StateSetters setState={setState}/>\n            {image && <FeatureImage image={image} />}\n            {state === \"display image details\" && (<ImageDetails image={image} />)}\n            {state === \"display annotations\" && (<Annotations image={image} setState={setState} />)}\n            {state === \"annotate\" && (<Annotate image={image} setState={setState} addIndicatorForCurrentStateSetter={addIndicatorForCurrentStateSetter}/>)}\n          </>\n        ) : (\n          <Loading />\n        )}\n      </div>\n    </>\n  );\n}\n\nfunction FeatureImage({ image }) {\n  return (\n    <>\n      <img className=\"image center\" src={image.url} alt={image.name}></img>\n    </>\n  );\n}\n\nfunction StateSetters({setState}){\n  return(\n    <ul className=\"state-setters\">\n    <li\n      className=\"active-state-setter\"\n      onClick={(e) => {\n        setState(\"display image\");\n        moveImageToMiddle();\n        addIndicatorForCurrentStateSetter(e.target);\n      }}\n    >\n      Display Image\n    </li>\n    <li\n      onClick={(e) => {\n        setState(\"display image details\");\n        moveImageToLeft();\n        addIndicatorForCurrentStateSetter(e.target);\n      }}\n    >\n      Display Image Details\n    </li>\n    <li\n    className=\"display-annotations-button\"\n      onClick={(e) => {\n        setState(\"display annotations\");\n        moveImageToLeft();\n        addIndicatorForCurrentStateSetter(e.target);\n      }}\n    >\n      Display Annotations\n    </li>\n    <li\n      onClick={(e) => {\n        setState(\"annotate\");\n        moveImageToLeft();\n        addIndicatorForCurrentStateSetter(e.target);\n      }}\n    >\n      Annotate\n    </li>\n  </ul>\n  )\n}\n\nfunction moveImageToMiddle() {\n  const image = document.querySelector(\".image\");\n  image.classList.add(\"center\");\n}\n\nfunction moveImageToLeft() {\n  const image = document.querySelector(\".image\");\n  image.classList.remove(\"center\");\n}\n\nfunction addIndicatorForCurrentStateSetter(element){\n  document\n  .querySelector(\".active-state-setter\")\n  .classList.remove(\"active-state-setter\");\nelement.classList.add(\"active-state-setter\");\n}","import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Homepage } from \"./components/Homepage/Homepage\";\nimport { ImagesPage } from \"./components/Images Page/ImagesPage\";\nimport { ImagePage } from \"./components/Image Page/ImagePage\";\n\nfunction App() {\n  return (\n    <main className=\"App\">\n      <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Homepage} />\n\n            <Route exact path=\"/images\" component={ImagesPage} />\n\n            <Route exact path=\"/images/:id\" component={ImagePage} />\n          </Switch>\n      </Router>\n    </main>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}